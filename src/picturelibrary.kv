#:kivy 2.1.0

<ScrollLabel>:
    lbl: lab

    Label:
        id: lab
        text: self.parent.text
        font_size: 18
        text_size: None, None
        size_hint_x: None
        size_hint_y: None
        width: self.texture_size[0]
        height: self.texture_size[1]

<ComparePane>:

    image: img
    dump: dlt_btn
    rename_file: rnf_btn
    l_ofname: label_original_file_name
    l_ofpath: label_original_file_path
    l_naming_tag: label_naming_tag
    l_new_name: label_new_name
    # l_binary_comp: label_binary_comparison
    l_metadata: label_metadata

    canvas:
        Color:
            rgb: (0.2, 0.2, 0.2)
        Rectangle:
            pos: self.pos[0]+3, self.pos[1]+3
            size: self.size[0] - 6, self.size[1] - 6

    GridLayout:
        pos: self.parent.pos
        spacing: 10
        padding: 10
        size: self.parent.size
        cols: 1

        Image:
            id: img
            size_hint_x: 1.0
            size_hint_y: None
            height: self.width / self.image_ratio
            source: self.parent.parent.image_path

        ScrollLabel:
            id: label_original_file_name
            size_hint: 1.0, None
            text: self.parent.parent.org_fname
            height: 25
            do_scroll_y: False

        ScrollLabel:
            id: label_original_file_path
            size_hint: 1.0, None
            height: 25
            do_scroll_y: False
            text: self.parent.parent.org_fpath
            scroll_x: 1.0

        ScrollLabel:
            id: label_naming_tag
            height: 25
            size_hint: 1.0, None
            do_scroll_y: False
            text: "Create Date"


        ScrollLabel:
            id: label_new_name
            size_hint: 1.0, None
            height: 25
            do_scroll_y: False
            text: "2018-06-03 22.44.11_000.jpg"

        BoxLayout:
            size_hint: 1.0, None
            orientation: 'horizontal'
            height: 30

            Button:
                id: rnf_btn
                size_hint: 1.0, None
                height: 30
                text: "Change Date"
                # background_normal: ''
                on_press: self.parent.parent.parent.open_modal()

            ToggleButton:
                id: dlt_btn
                size_hint: 1.0, None
                height: 30
                text: "Mark Delete"
                background_normal: ''
                background_color: 1.0, 0.5, 0.5, 1.0


        ScrollLabel:
            id: label_metadata
            size_hint_x: 1.0
            multiline: True
            text: "Composite:ImageSize: 2048 1536\nComposite:Megapixels: 3.145728\nExifTool:ExifToolVersion: 12.44\nFile:Directory: /media/alisot2000/DumpStuff/Picture consolidation/Export Fotos Macbok archive 2/iptc/1. April 2018\nFile:FileAccessDate: 2022:09:12 18:34:46+02:00\nFile:FileInodeChangeDate: 2022:09:12 17:11:13+02:00\nFile:FileModifyDate: 2018:04:01 02:43:30+02:00\nFile:FileName: IMG_2130.PNG\nFile:FilePermissions: 100777\nFile:FileSize: 1912870\nFile:FileType: PNG\nFile:FileTypeExtension: PNG\nFile:MIMEType: image/png\nPNG:BitDepth: 8\nPNG:ColorType: 2\nPNG:Compression: 0\nPNG:Filter: 0\nPNG:ImageHeight: 1536\nPNG:ImageWidth: 2048\nPNG:Interlace: 0\nPNG:SRGBRendering: 0\nSourceFile: /media/alisot2000/DumpStuff/Picture consolidation/Export Fotos Macbok archive 2/iptc/1. April 2018/IMG_2130.PNG\nXMP:DateCreated: 2018:04:01 02:43:29\nXMP:UserComment: Screenshot\nXMP:XMPToolkit: XMP Core 5.4.0"




<MyFloat>:
    compareGrid: cg

    ScrollView:
        do_scroll_y: True
        do_scroll_x: True

        MyBox:
            orientation: 'vertical'
            size_hint_x: None

            MyGrid:
                id: cg
                rows: 1
                size_hint: None, 1.0

                ComparePane:
                    size_hint_x: None
                    width: 400
                    size_hint_y: 1.0

                ComparePane:
                    size_hint_x: None
                    width: 400
                    size_hint_y: 1.0

            Widget:
                size_hint_x: None
                size_hint_y: None
                height: 40
    Button:
        pos_hint: {'bottom': 1.0, 'right': 1.0}
        text: "done"
        font_size: 18
        size_hint_y: None
        size_hint_x: None
        size: 100, 40


<SetDateModal>:
    tagLabel: naming_tag
    customDateTag: naming_tag_input
    customDateTime: datetime_label
    customDateTimeInput: datetime_input
    closeBtn: cls_btn
    applyBtn: apl_btn

    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    size_hint: None, None
    height: 200
    width: 500
    auto_dismiss: True

    GridLayout:
        cols: 2
        Label:
            id: naming_tag
            text: "Source Tag"
            font_size: 18

        CustomDateTag:
            multiline: False
            id: naming_tag_input
            font_size: 18

        Label:
            id: datetime_label
            text: "Custom Datetime"
            font_size: 18

        TextInput:
            id: datetime_input
            hint_text: "YYYY-MM-DD HH.MM.SS"
            font_size: 18
            disabled: True

        Button:
            id: cls_btn
            text: "time out"
            disabled: False
            size_hint_y: None
            height: self.texture_size[1] + 40
            on_press: self.parent.parent.dismiss()

        Button:
            id: apl_btn
            text: "get this shit over with"
            size_hint_y: None
            height: self.texture_size[1] + 40







# nice label:
#         Label:
#             size_hint: None, None
#             font_size: 18
#             text_size: None, None
#             width: self.texture_size[0]
#             height: self.texture_size[1]
#             text: "IMG_2162.JPG"
